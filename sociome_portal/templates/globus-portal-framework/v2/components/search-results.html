{% load static %}

{% block headextras %}{% endblock %}

<div class="row">
  <div class="col-md-8">
    <h2>Results</h2>
    {% if search.total %}
    <h6 class="h6">{{search.total}} datasets found</h6>
    {% endif %}
  </div>
</div>

<div id="search-result" class="search-result">
  {% for result in search.search_results %}
  <div class="card my-3">
    <div class="card-header">
      <h3 class="search-title">
        <a href="{% url 'detail' globus_portal_framework.index result.subject %}"
          title="{{result.title|default:'Result'}}">{{result.title|default:'Result'}}</a>
      </h3>
    </div>
    <div class="card-body">
      <table class="table table-sm borderless">
        <tbody>
          <!-- {% for key, value in result.all.0.items|slice:"0:5" %}
        <tr>
          <td><em>{{key}}</em></td>
          <td>{{value |safe}}</td>
        </tr>
        {% endfor %} -->
          <tr>
            <td><em>Name</em></td>
            <td>{{result.title}}</td>
          </tr>
          <tr>
            <td><em>Description</em></td>
            <td>{{result.description |safe}}</td>
          </tr>
          <tr>
            <td><em>Data Category</em></td>
            <td>
              <ul>
                {% for category in result.data_category %}
                <li>{{category}}</li>
                {% endfor %}
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  {% endfor %}
</div>